2025-01-21T18:20:00.249-05:00  INFO 22484 --- [BookMyShow] [restartedMain] com.bookmyshow.BookMyShowApplication     : Starting BookMyShowApplication using Java 21 with PID 22484 (/Users/ranjith/Desktop/Projects/BookMyShow/target/classes started by ranjith in /Users/ranjith/Desktop/Projects/BookMyShow)
2025-01-21T18:20:00.256-05:00  INFO 22484 --- [BookMyShow] [restartedMain] com.bookmyshow.BookMyShowApplication     : No active profile set, falling back to 1 default profile: "default"
2025-01-21T18:20:00.279-05:00  INFO 22484 --- [BookMyShow] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-01-21T18:20:00.280-05:00  INFO 22484 --- [BookMyShow] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-01-21T18:20:00.625-05:00  INFO 22484 --- [BookMyShow] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-01-21T18:20:00.655-05:00  INFO 22484 --- [BookMyShow] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 10 JPA repository interfaces.
2025-01-21T18:20:00.918-05:00  INFO 22484 --- [BookMyShow] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-01-21T18:20:00.925-05:00  INFO 22484 --- [BookMyShow] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-01-21T18:20:00.925-05:00  INFO 22484 --- [BookMyShow] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-21T18:20:00.943-05:00  INFO 22484 --- [BookMyShow] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/bms]    : Initializing Spring embedded WebApplicationContext
2025-01-21T18:20:00.943-05:00  INFO 22484 --- [BookMyShow] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 663 ms
2025-01-21T18:20:01.003-05:00  INFO 22484 --- [BookMyShow] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-01-21T18:20:01.035-05:00  INFO 22484 --- [BookMyShow] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.4.Final
2025-01-21T18:20:01.049-05:00  INFO 22484 --- [BookMyShow] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-01-21T18:20:01.158-05:00  INFO 22484 --- [BookMyShow] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-01-21T18:20:01.173-05:00  INFO 22484 --- [BookMyShow] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-01-21T18:20:01.935-05:00  INFO 22484 --- [BookMyShow] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5b27bcce
2025-01-21T18:20:01.938-05:00  INFO 22484 --- [BookMyShow] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-01-21T18:20:02.081-05:00  WARN 22484 --- [BookMyShow] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-21T18:20:02.088-05:00  INFO 22484 --- [BookMyShow] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.35
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-01-21T18:20:02.526-05:00  INFO 22484 --- [BookMyShow] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-01-21T18:20:02.692-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table city (
        id integer not null,
        name varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-01-21T18:20:04.616-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table city_seq (
        next_val bigint
    ) engine=InnoDB
2025-01-21T18:20:04.780-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    insert into city_seq values ( 1 )
2025-01-21T18:20:05.731-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table movie (
        id integer not null,
        cast varchar(255),
        director varchar(255),
        duration_in_minutes integer not null,
        genre enum ('ACTION','COMEDY','DRAMA','HORROR','ROMANCE','SCI_FI'),
        name varchar(255) not null,
        release_date datetime(6),
        primary key (id)
    ) engine=InnoDB
2025-01-21T18:20:05.967-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table movie_seq (
        next_val bigint
    ) engine=InnoDB
2025-01-21T18:20:06.088-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    insert into movie_seq values ( 1 )
2025-01-21T18:20:06.194-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table payment (
        id integer not null,
        mode enum ('CREDIT_CARD','DEBIT_CARD','NET_BANKING','UPI'),
        status enum ('COMPLETED','FAILED','IN_PROGRESS'),
        timestamp datetime(6) not null,
        transaction_id varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-01-21T18:20:06.398-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table payment_seq (
        next_val bigint
    ) engine=InnoDB
2025-01-21T18:20:06.494-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    insert into payment_seq values ( 1 )
2025-01-21T18:20:06.569-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table screen (
        id integer not null,
        name varchar(255) not null,
        theatre_id integer,
        primary key (id)
    ) engine=InnoDB
2025-01-21T18:20:06.665-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table screen_seq (
        next_val bigint
    ) engine=InnoDB
2025-01-21T18:20:06.764-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    insert into screen_seq values ( 1 )
2025-01-21T18:20:06.847-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table seat (
        id integer not null,
        name varchar(255) not null,
        seat_type enum ('GOLD','PLATINUM','RECLINER','SILVER'),
        status enum ('AVAILABLE','BLOCKED','BOOKED'),
        screen_id integer,
        primary key (id)
    ) engine=InnoDB
2025-01-21T18:20:07.016-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table seat_seq (
        next_val bigint
    ) engine=InnoDB
2025-01-21T18:20:07.126-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    insert into seat_seq values ( 1 )
2025-01-21T18:20:07.219-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table show_seat_seq (
        next_val bigint
    ) engine=InnoDB
2025-01-21T18:20:07.345-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    insert into show_seat_seq values ( 1 )
2025-01-21T18:20:07.422-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table shows (
        id integer not null,
        end_time datetime(6) not null,
        start_time datetime(6) not null,
        movie_id integer,
        screen_id integer,
        primary key (id)
    ) engine=InnoDB
2025-01-21T18:20:07.553-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table shows_features (
        shows_id integer not null,
        features tinyint check (features between 0 and 3)
    ) engine=InnoDB
2025-01-21T18:20:07.661-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table shows_seq (
        next_val bigint
    ) engine=InnoDB
2025-01-21T18:20:07.759-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    insert into shows_seq values ( 1 )
2025-01-21T18:20:07.843-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table show_seat (
        id integer not null,
        price float(53) not null,
        status enum ('AVAILABLE','BLOCKED','BOOKED'),
        seat_id integer,
        show_id integer,
        primary key (id)
    ) engine=InnoDB
2025-01-21T18:20:07.955-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table theatre (
        id integer not null,
        address varchar(255),
        name varchar(255) not null,
        city_id integer,
        primary key (id)
    ) engine=InnoDB
2025-01-21T18:20:08.054-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table theatre_seq (
        next_val bigint
    ) engine=InnoDB
2025-01-21T18:20:08.156-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    insert into theatre_seq values ( 1 )
2025-01-21T18:20:08.230-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table ticket (
        id integer not null,
        time_of_booking datetime(6),
        show_id integer,
        user_id integer,
        primary key (id)
    ) engine=InnoDB
2025-01-21T18:20:08.329-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table ticket_seats (
        ticket_id integer not null,
        seats_id integer not null
    ) engine=InnoDB
2025-01-21T18:20:08.423-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table ticket_seq (
        next_val bigint
    ) engine=InnoDB
2025-01-21T18:20:08.517-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    insert into ticket_seq values ( 1 )
2025-01-21T18:20:08.624-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table user (
        id integer not null,
        email varchar(255) not null,
        name varchar(255) not null,
        password varchar(255) not null,
        phone_number varchar(255),
        role enum ('SUPER_ADMIN','THEATRE_ADMIN','USER'),
        theatre_id integer,
        primary key (id)
    ) engine=InnoDB
2025-01-21T18:20:08.730-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    create table user_seq (
        next_val bigint
    ) engine=InnoDB
2025-01-21T18:20:08.865-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    insert into user_seq values ( 1 )
2025-01-21T18:20:08.977-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table ticket_seats 
       drop index UK7a0j0unfryrjuqx00jc9fy8p7
2025-01-21T18:20:09.791-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table ticket_seats 
       add constraint UK7a0j0unfryrjuqx00jc9fy8p7 unique (seats_id)
2025-01-21T18:20:10.476-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table user 
       drop index UKob8kqyqqgmefl0aco34akdtpe
2025-01-21T18:20:10.701-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table user 
       add constraint UKob8kqyqqgmefl0aco34akdtpe unique (email)
2025-01-21T18:20:10.807-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table screen 
       add constraint FKilngvwq9jgk3is184yjhkx9k 
       foreign key (theatre_id) 
       references theatre (id)
2025-01-21T18:20:11.053-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table seat 
       add constraint FKa20kk7r8mh61c0khpxmx7uqcp 
       foreign key (screen_id) 
       references screen (id)
2025-01-21T18:20:11.208-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table shows 
       add constraint FK4qskmne5ijrtsqlxym3c70nha 
       foreign key (movie_id) 
       references movie (id)
2025-01-21T18:20:11.341-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table shows 
       add constraint FKqy9162jhrejk4hqejebdp6j91 
       foreign key (screen_id) 
       references screen (id)
2025-01-21T18:20:11.523-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table shows_features 
       add constraint FKfx936hm8jtyqf7sh81e1f261k 
       foreign key (shows_id) 
       references shows (id)
2025-01-21T18:20:11.680-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table show_seat 
       add constraint FK6i74j78n2rm115651mji6o8yj 
       foreign key (seat_id) 
       references seat (id)
2025-01-21T18:20:11.813-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table show_seat 
       add constraint FKl8h7odotr49cuig9dy7t6cfj0 
       foreign key (show_id) 
       references shows (id)
2025-01-21T18:20:11.959-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table theatre 
       add constraint FKqfrea71qlwgmpbyrmldr5iln3 
       foreign key (city_id) 
       references city (id)
2025-01-21T18:20:13.181-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table ticket 
       add constraint FKoqx6x1gm4qrcl0li6c8j9k0d7 
       foreign key (show_id) 
       references shows (id)
2025-01-21T18:20:13.395-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table ticket 
       add constraint FKdvt57mcco3ogsosi97odw563o 
       foreign key (user_id) 
       references user (id)
2025-01-21T18:20:13.612-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table ticket_seats 
       add constraint FKbk06gvc4iih25uvt94suvg0av 
       foreign key (seats_id) 
       references seat (id)
2025-01-21T18:20:13.728-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table ticket_seats 
       add constraint FK44gchftco6god800pnyfl3f06 
       foreign key (ticket_id) 
       references ticket (id)
2025-01-21T18:20:13.861-05:00 DEBUG 22484 --- [BookMyShow] [restartedMain] org.hibernate.SQL                        : 
    alter table user 
       add constraint FK1rja3ufahddgtusgtsqbmucrg 
       foreign key (theatre_id) 
       references theatre (id)
2025-01-21T18:20:14.755-05:00  INFO 22484 --- [BookMyShow] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T18:20:14.935-05:00  INFO 22484 --- [BookMyShow] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-01-21T18:20:15.316-05:00  WARN 22484 --- [BookMyShow] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-21T18:20:15.333-05:00  INFO 22484 --- [BookMyShow] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-01-21T18:20:15.594-05:00  INFO 22484 --- [BookMyShow] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-01-21T18:20:15.610-05:00  INFO 22484 --- [BookMyShow] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/bms'
2025-01-21T18:20:15.616-05:00  INFO 22484 --- [BookMyShow] [restartedMain] com.bookmyshow.BookMyShowApplication     : Started BookMyShowApplication in 15.593 seconds (process running for 15.848)
2025-01-21T18:20:41.396-05:00  INFO 22484 --- [BookMyShow] [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/bms]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-21T18:20:41.398-05:00  INFO 22484 --- [BookMyShow] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-01-21T18:20:41.404-05:00  INFO 22484 --- [BookMyShow] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-01-21T18:20:41.744-05:00  INFO 22484 --- [BookMyShow] [http-nio-8080-exec-2] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 99 ms
2025-01-21T18:21:10.870-05:00  INFO 22484 --- [BookMyShow] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-01-21T18:21:10.877-05:00  INFO 22484 --- [BookMyShow] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-01-21T18:21:10.882-05:00  INFO 22484 --- [BookMyShow] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-01-21T18:21:10.887-05:00  INFO 22484 --- [BookMyShow] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-01-21T18:21:11.251-05:00  INFO 22484 --- [BookMyShow] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
